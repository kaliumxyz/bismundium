<html>
	<head>
		<title> Bismundium </title>
	</head>
	<style>
		html, body{
			padding: 0;
			margin: 0;
		}
		.container {
			display: flex;
			padding: 0;
			margin: 0;
			width: 100%;
			text-align: center;
			justify-content: middle;
			height: 100%;
		}
		.content {
			margin: auto;
			height: 10vh;
		}
		input {
		}
		ul {
			display: none;
		}

	</style>
	<body>
		<div class='container'>
		<div class='content'>
		<input disabled class=''/>
		<button> search </button>
		<ul>
			<li>
				result 1
			</li>
			<li>
				result 2
			</li>

		</ul>
		</div>
		</div>
		<script>
			const socket = new WebSocket('ws://kalium.xyz:8050')
			const input = document.querySelector('input')
			socket.onopen = _ => input.disabled = false
			let timeout
			// sends a search request to the server.
			function search() {
				socket.send(JSON.stringify({"type":"search", "data": input.value}))
			}
			// formats the incoming data into an unordered list.
			function format() {

			}
			socket.onopen = data => {
				// document.querySelector('ul').innerHTML = 'connected'
			}
			socket.onmessage = data => {
				console.log(data)
				document.querySelector('ul').innerHTML += `<li> ${JSON.stringify(data.data)} </li>`
			}
			input.onkeypress = ev => {
				window.clearTimeout(timeout)
				timeout = window.setTimeout(suggest, 600)
			}
		</script>
	</body>
</html>
